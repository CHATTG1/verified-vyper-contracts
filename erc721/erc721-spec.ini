[balanceOf]
k: #execute => #halt
statusCode: _ => EVMC_SUCCESS
output: _ => #asByteStackInWidth(BAL, 32)
callData: #abiCallData("balanceOf", #address(OWNER))
gas: {GASCAP} => _
log: _
refund: _
storage:
    #hashedLocation({COMPILER}, {_BALANCES}, OWNER) |-> BAL
    _:Map
requires:
    andBool 0 <=Int OWNER     andBool OWNER     <Int (2 ^Int 160)
    andBool 0 <=Int BAL       andBool BAL       <Int (2 ^Int 256)



[totalSupply]
k: #execute => #halt
statusCode: _ => EVMC_SUCCESS
output: _ => #asByteStackInWidth(TOTAL, 32)
callData: #abiCallData("totalSupply", .TypedArgs)
gas: {GASCAP} => _
log: _
refund: _
storage:
    #hashedLocation({COMPILER}, {_TOTALSUPPLY}, .IntList) |-> TOTAL
    _:Map
requires:
    andBool 0 <=Int TOTAL     andBool TOTAL     <Int (2 ^Int 256)


[allowance]
k: #execute => #halt
statusCode: _ => EVMC_SUCCESS
output: _ => #asByteStackInWidth(ALLOWANCE, 32)
callData: #abiCallData("allowance", #address(OWNER), #address(SPENDER))
gas: {GASCAP} => _
log: _
refund: _
storage:
    #hashedLocation({COMPILER}, {_ALLOWANCES}, OWNER SPENDER) |-> ALLOWANCE
    _:Map
requires:
    andBool 0 <=Int OWNER     andBool OWNER     <Int (2 ^Int 160)
    andBool 0 <=Int SPENDER   andBool SPENDER   <Int (2 ^Int 160)
    andBool 0 <=Int ALLOWANCE andBool ALLOWANCE <Int (2 ^Int 256)

[approve]
k: #execute => #halt
statusCode: _ => EVMC_SUCCESS
output: _ => #asByteStackInWidth(1, 32)
callData: #abiCallData("approve", #address(SPENDER), #uint256(VALUE))
gas: {GASCAP} => _
log: _:List ( .List => ListItem(#abiEventLog(ACCT_ID, "Approval", #indexed(#address(CALLER_ID)), #indexed(#address(SPENDER)), #uint256(VALUE))) )
refund: _ => _
storage:
    #hashedLocation({COMPILER}, {_ALLOWANCES}, CALLER_ID SPENDER) |-> (_:Int => VALUE)
    _:Map
requires:
    andBool 0 <=Int SPENDER   andBool SPENDER   <Int (2 ^Int 160)
    andBool 0 <=Int VALUE     andBool VALUE     <Int (2 ^Int 256)

[transfer]
callData: #abiCallData("transfer", #address(TO_ID), #uint256(VALUE))
gas: {GASCAP} => _
refund: _ => _
requires:
    andBool 0 <=Int TO_ID     andBool TO_ID     <Int (2 ^Int 160)
    andBool 0 <=Int VALUE     andBool VALUE     <Int (2 ^Int 256)
    andBool 0 <=Int BAL_FROM  andBool BAL_FROM  <Int (2 ^Int 256)
    andBool 0 <=Int BAL_TO    andBool BAL_TO    <Int (2 ^Int 256)

[transfer-success]
k: #execute => #halt
statusCode: _ => EVMC_SUCCESS
output: _ => #asByteStackInWidth(1, 32)
log: _:List ( .List => ListItem(#abiEventLog(ACCT_ID, "Transfer", #indexed(#address(CALLER_ID)), #indexed(#address(TO_ID)), #uint256(VALUE))) )

[transfer-success-1]
storage:
    #hashedLocation({COMPILER}, {_BALANCES}, CALLER_ID) |-> (BAL_FROM => BAL_FROM -Int VALUE)
    #hashedLocation({COMPILER}, {_BALANCES}, TO_ID)     |-> (BAL_TO   => BAL_TO   +Int VALUE)
    _:Map
+requires:
    andBool CALLER_ID =/=Int TO_ID
    andBool VALUE <=Int BAL_FROM
    andBool BAL_TO +Int VALUE <Int (2 ^Int 256)

[transfer-success-2]
storage:
    #hashedLocation({COMPILER}, {_BALANCES}, CALLER_ID) |-> BAL_FROM
    _:Map
+requires:
    andBool CALLER_ID ==Int TO_ID
    andBool VALUE <=Int BAL_FROM

[transfer-failure]
k: #execute => #halt
statusCode: _ => EVMC_REVERT
output: _ => _
log: _

[transfer-failure-1]
storage:
    #hashedLocation({COMPILER}, {_BALANCES}, CALLER_ID) |-> (BAL_FROM => _)
    #hashedLocation({COMPILER}, {_BALANCES}, TO_ID)     |->  BAL_TO
    _:Map
+requires:
    andBool CALLER_ID =/=Int TO_ID
    andBool ( VALUE >Int BAL_FROM
     orBool   BAL_TO +Int VALUE >=Int (2 ^Int 256) )

[transfer-failure-2]
storage:
    #hashedLocation({COMPILER}, {_BALANCES}, CALLER_ID) |-> BAL_FROM
    _:Map
+requires:
    andBool CALLER_ID ==Int TO_ID
    andBool VALUE >Int BAL_FROM

[transferFrom]
callData: #abiCallData("transferFrom", #address(FROM_ID), #address(TO_ID), #uint256(VALUE))
gas: {GASCAP} => _
refund: _ => _
requires:
    andBool 0 <=Int FROM_ID   andBool FROM_ID   <Int (2 ^Int 160)
    andBool 0 <=Int TO_ID     andBool TO_ID     <Int (2 ^Int 160)
    andBool 0 <=Int VALUE     andBool VALUE     <Int (2 ^Int 256)
    andBool 0 <=Int BAL_FROM  andBool BAL_FROM  <Int (2 ^Int 256)
    andBool 0 <=Int BAL_TO    andBool BAL_TO    <Int (2 ^Int 256)
    andBool 0 <=Int ALLOW     andBool ALLOW     <Int (2 ^Int 256)

[transferFrom-success]
k: #execute => #halt
statusCode: _ => EVMC_SUCCESS
output: _ => #asByteStackInWidth(1, 32)
log: _:List ( .List => ListItem(#abiEventLog(ACCT_ID, "Transfer", #indexed(#address(FROM_ID)), #indexed(#address(TO_ID)), #uint256(VALUE))) )

[transferFrom-success-1]
storage:
    #hashedLocation({COMPILER}, {_BALANCES},   FROM_ID)           |-> (BAL_FROM => BAL_FROM -Int VALUE)
    #hashedLocation({COMPILER}, {_BALANCES},   TO_ID)             |-> (BAL_TO   => BAL_TO   +Int VALUE)
    #hashedLocation({COMPILER}, {_ALLOWANCES}, FROM_ID CALLER_ID) |-> (ALLOW    => ALLOW    -Int VALUE)
    _:Map
+requires:
    andBool FROM_ID =/=Int TO_ID
    andBool VALUE <=Int BAL_FROM
    andBool BAL_TO +Int VALUE <Int (2 ^Int 256)
    andBool VALUE <=Int ALLOW

[transferFrom-success-2]
storage:
    #hashedLocation({COMPILER}, {_BALANCES},   FROM_ID)           |-> BAL_FROM
    #hashedLocation({COMPILER}, {_ALLOWANCES}, FROM_ID CALLER_ID) |-> (ALLOW => ALLOW -Int VALUE)
    _:Map
+requires:
    andBool FROM_ID ==Int TO_ID
    andBool VALUE <=Int BAL_FROM
    andBool VALUE <=Int ALLOW

[transferFrom-failure]
k: #execute => #halt
statusCode: _ => EVMC_REVERT
output: _ => _
log: _

[transferFrom-failure-1]
storage:
    #hashedLocation({COMPILER}, {_BALANCES},   FROM_ID)           |-> (BAL_FROM => _)  // BAL_FROM
    #hashedLocation({COMPILER}, {_BALANCES},   TO_ID)             |-> (BAL_TO   => _)  // BAL_TO
    #hashedLocation({COMPILER}, {_ALLOWANCES}, FROM_ID CALLER_ID) |-> ALLOW
    _:Map
+requires:
    andBool FROM_ID =/=Int TO_ID
    andBool ( VALUE >Int BAL_FROM
     orBool   BAL_TO +Int VALUE >=Int (2 ^Int 256)
     orBool   VALUE >Int ALLOW )

[transferFrom-failure-2]
storage:
    #hashedLocation({COMPILER}, {_BALANCES},   FROM_ID)           |-> BAL_FROM
    #hashedLocation({COMPILER}, {_ALLOWANCES}, FROM_ID CALLER_ID) |-> ALLOW
    _:Map
+requires:
    andBool FROM_ID ==Int TO_ID
    andBool ( VALUE >Int BAL_FROM
     orBool   VALUE >Int ALLOW )

[pgm]
compiler: "Vyper"
_name: 0
_symbol: 1
_decimals: 2
_balances: 3
_allowances: 4
_totalSupply: 5
code: "0x600035601c52740100000000000000000000000000000000000000006020526f7fffffffffffffffffffffffffffffff6040527fffffffffffffffffffffffffffffffff8000000000000000000000000000000060605274012a05f1fffffffffffffffffffffffffdabf41c006080527ffffffffffffffffffffffffed5fa0e000000000000000000000000000000000060a05263a704bbee60005114156100f457602060046101403734156100b457600080fd5b60246004356004016101603760046004356004013511156100d457600080fd5b6005610160516101802060e05260c052604060c0205460005260206000f3005b6370a082316000511415610154576020600461014037341561011557600080fd5b600435602051811061012657600080fd5b50600061014051141561013857600080fd5b60026101405160e05260c052604060c0205460005260206000f3005b60001561019d575b610160526101405260006101405160e05260c052604060c0205461018052600061018051141561018b57600080fd5b61018051600052600051610160515650005b636352211e60005114156101f657602060046101403734156101be57600080fd5b610140516338350541610160526101405161018052610180516006580161015c565b6101e052610140526101e05160005260206000f3005b600015610245575b6101605261014052600060006101405160e05260c052604060c02054141561022557600080fd5b60016101405160e05260c052604060c02054600052600051610160515650005b63081812fc600051141561029e576020600461014037341561026657600080fd5b61014051636d5e136d61016052610140516101805261018051600658016101fe565b6101e052610140526101e05160005260206000f3005b6000156102e1575b61018052610140526101605260036101405160e05260c052604060c0206101605160e05260c052604060c02054600052600051610180515650005b63e985e9c56000511415610372576040600461014037341561030257600080fd5b600435602051811061031357600080fd5b50602435602051811061032557600080fd5b506101405161016051632d95fdb561018052610140516101a052610160516101c0526101c0516101a051600658016102a6565b6102205261016052610140526102205160005260206000f3005b6000156104b1575b6101805261014052610160526101405161016051610180516101a05163383505416101c052610160516101e0526101e0516006580161015c565b610240526101a052610180526101605261014052610240516101a052610140516101a05114610260526101405161016051610180516101a0516101c0516101e0516102005161022051610240516102605161028051636d5e136d6102a052610160516102c0526102c051600658016101fe565b6103205261028052610260526102405261022052610200526101e0526101c0526101a0526101805261016052610140526103205161014051146102805260206103e0604463e985e9c56103405261014051610360526101a0516103805261035c6000305af161049557600080fd5b6103e05161028051610260511717600052600051610180515650005b600015610558575b6101c0526101405261016052610180526101a0526101405161016051610180516101a0516101c051634cdc95496101e0526101a05161020052610180516102205261022051610200516006580161037a565b610280526101c0526101a0526101805261016052610140526102805161053057600080fd5b600061014051141561054157600080fd5b600061016051141561055257600080fd5b6101c051565b6000156105cf575b61018052610140526101605260006101605160e05260c052604060c020541561058857600080fd5b6101405160006101605160e05260c052604060c0205560026101405160e05260c052604060c0208054600182540110156105c157600080fd5b600181540181555061018051565b600015610647575b6101805261014052610160526101405160006101605160e05260c052604060c020541461060357600080fd5b6101405160006101605160e05260c052604060c0205560026101405160e05260c052604060c02060018154101561063957600080fd5b600181540381555061018051565b6000156106b1575b6101805261014052610160526101405160006101605160e05260c052604060c020541461067b57600080fd5b600060016101605160e05260c052604060c020541415156106ab57600060016101605160e05260c052604060c020555b61018051565b600015610860575b6101a0526101405261016052610180526101405161016051610180516101a0516391127c1f6101c052610140516101e0526101805161020052610200516101e0516006580161064f565b6101a0526101805261016052610140526000506101405161016051610180516101a0516101c0516101e051610200516102205161024051639260587e610260526101405161028052610180516102a0526102a05161028051600658016105d7565b6102405261022052610200526101e0526101c0526101a0526101805261016052610140526000506101405161016051610180516101a0516101c0516101e05161020051610220516102405161026051610280516102a0516102c0516102e05163ff5ce3786103005261016051610320526101805161034052610340516103205160065801610560565b6102e0526102c0526102a05261028052610260526102405261022052610200526101e0526101c0526101a0526101805261016052610140526000506101805161016051610140517fddf252ad1be2c89b69c2b068fc378daa952ba7f163c4a11628f55a4df523b3ef60006000a46101a051565b6323b872dd600051141561098a576060600461014037341561088157600080fd5b600435602051811061089257600080fd5b5060243560205181106108a457600080fd5b506101405161016051610180516347f467a66101a052610140516101c052610160516101e0526101805161020052336102205261022051610200516101e0516101c051600658016104b9565b6101805261016052610140526000506101405161016051610180516101a0516101c0516101e051610200516102205161024051610260516376c68e8661028052610140516102a052610160516102c052610180516102e0526102e0516102c0516102a051600658016106b9565b610260526102405261022052610200526101e0526101c0526101a052610180526101605261014052600050005b6342842e0e60005114156109c8576000610600526106008051602001806101c0828460006004600a8704601201f16109c157600080fd5b5050610a15565b63b88d4fde6000511415610a0d576104206064356004016101c0376104006064356004013511156109f857600080fd5b6104406064356004016101c037600050610a15565b600015610e4c575b60606004610140373415610a2857600080fd5b6004356020518110610a3957600080fd5b506024356020518110610a4b57600080fd5b506101405161016051610180516101a0516101c0516101e05161020051610220516102405161026051610280516102a0516102c0516102e05161030051610320516103405161036051610380516103a0516103c0516103e05161040051610420516104405161046051610480516104a0516104c0516104e05161050051610520516105405161056051610580516105a0516105c0516105e05161060051610620516347f467a66106405261014051610660526101605161068052610180516106a052336106c0526106c0516106a0516106805161066051600658016104b9565b61062052610600526105e0526105c0526105a05261058052610560526105405261052052610500526104e0526104c0526104a05261048052610460526104405261042052610400526103e0526103c0526103a05261038052610360526103405261032052610300526102e0526102c0526102a05261028052610260526102405261022052610200526101e0526101c0526101a0526101805261016052610140526000506101405161016051610180516101a0516101c0516101e05161020051610220516102405161026051610280516102a0516102c0516102e05161030051610320516103405161036051610380516103a0516103c0516103e05161040051610420516104405161046051610480516104a0516104c0516104e05161050051610520516105405161056051610580516105a0516105c0516105e05161060051610620516106405161066051610680516106a0516106c0516106e051610700516376c68e8661072052610140516107405261016051610760526101805161078052610780516107605161074051600658016106b9565b610700526106e0526106c0526106a05261068052610660526106405261062052610600526105e0526105c0526105a05261058052610560526105405261052052610500526104e0526104c0526104a05261048052610460526104405261042052610400526103e0526103c0526103a05261038052610360526103405261032052610300526102e0526102c0526102a05261028052610260526102405261022052610200526101e0526101c0526101a0526101805261016052610140526000506000610160513b1315610e4a57610160513b610d9a57600080fd5b61016051301415610daa57600080fd5b6020610d006104a4608063150b7a026108005233610820526101405161084052610180516108605280610880526101c0808051602001808461082001828460006004600a8704601201f1610dfd57600080fd5b50508051820160206001820306601f820103905060200191505061081c9050610160515afa610e2b57600080fd5b600050610d00516107e05263150b7a026107e05114610e4957600080fd5b5b005b63095ea7b36000511415610fbb5760406004610140373415610e6d57600080fd5b6004356020518110610e7e57600080fd5b5061014051610160516101805163383505416101a052610160516101c0526101c0516006580161015c565b61022052610180526101605261014052610220516101805261018051610140511415610ed457600080fd5b3360006101605160e05260c052604060c0205414610240526101405161016051610180516101a0516101c0516101e051610200516102205161024051632d95fdb5610260526101805161028052336102a0526102a05161028051600658016102a6565b610300526102405261022052610200526101e0526101c0526101a052610180526101605261014052610300516102405117610f7157600080fd5b6101405160016101605160e05260c052604060c020556101605161014051610180517f8c5be1e5ebec7d5bd14f71427d1e84f3dd0314c0f7b2291e5b200ac8c7c3b92560006000a4005b63a22cb46560005114156110685760406004610140373415610fdc57600080fd5b6004356020518110610fed57600080fd5b5060243560028110610ffe57600080fd5b50600061014051141561101057600080fd5b6101605160033360e05260c052604060c0206101405160e05260c052604060c02055610160516101805261014051337f17307eab39ab6107e8899845ad3d59bd9653f200f220920489ca2b5937696c316020610180a3005b6340c10f196000511415611133576040600461014037341561108957600080fd5b600435602051811061109a57600080fd5b5060045433146110a957600080fd5b60006101405114156110ba57600080fd5b610140516101605163ff5ce37861018052610140516101a052610160516101c0526101c0516101a05160065801610560565b6101605261014052600050610160516101405160007fddf252ad1be2c89b69c2b068fc378daa952ba7f163c4a11628f55a4df523b3ef60006000a4600160005260206000f3005b6342966c686000511415611382576020600461014037341561115457600080fd5b61014051634cdc9549610160523361018052610140516101a0526101a051610180516006580161037a565b61020052610140526102005161119457600080fd5b6101405161016051610180516101a0516101c0516101e05161020051610220516338350541610240526101405161026052610260516006580161015c565b6102c05261022052610200526101e0526101c0526101a0526101805261016052610140526102c051610220526101405161016051610180516101a0516101c0516101e05161020051610220516102405161026051610280516102a0516102c0516391127c1f6102e0526102205161030052610140516103205261032051610300516006580161064f565b6102c0526102a05261028052610260526102405261022052610200526101e0526101c0526101a0526101805261016052610140526000506101405161016051610180516101a0516101c0516101e05161020051610220516102405161026051610280516102a0516102c0516102e05161030051610320516103405161036051639260587e61038052610220516103a052610140516103c0526103c0516103a051600658016105d7565b610360526103405261032052610300526102e0526102c0526102a05261028052610260526102405261022052610200526101e0526101c0526101a052610180526101605261014052600050610140516000610220517fddf252ad1be2c89b69c2b068fc378daa952ba7f163c4a11628f55a4df523b3ef60006000a4005b60006000fd" 
gasCap: 100000
